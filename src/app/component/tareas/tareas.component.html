<div class="container mx-auto p-4">
  <form [formGroup]="tareasForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Descripción de la Tarea</mat-label>
        <input matInput formControlName="descripcion" />
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Estado</mat-label>
        <mat-select formControlName="estado">
          <mat-option value="Pendiente">Pendiente</mat-option>
          <mat-option value="Completada">Completada</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Asignar Personas</mat-label>
        <mat-select formControlName="personas">
          <mat-option *ngFor="let persona of personasList" [value]="persona" (click)="onAsignar(persona)">
            {{ persona.nombre }} - {{ persona.edad }} años - {{ persona.habilidades.join(', ') }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="mb-4">
      <h3 class="text-lg font-bold mb-2">Personas Asignadas</h3>
      <div *ngFor="let persona of personasAsignadas" class="p-2 border mb-2">
        {{ persona.nombre }} - {{ persona.edad }} años - Habilidades: {{ persona.habilidades.join(', ') }}
        <button mat-icon-button color="warn" (click)="onEliminar(persona)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
    <button mat-raised-button color="primary" type="submit" [disabled]="tareasForm.invalid"
        [ngClass]="{'bg-gray-400': tareasForm.invalid, 'bg-blue-500': !tareasForm.invalid}">
      Guardar
    </button>
    <div *ngIf="guardado" class="mt-4 p-2 text-green-700 bg-green-100 border border-green-400 rounded">
      ¡Tarea guardada correctamente!
    </div>
  </form>
</div>
